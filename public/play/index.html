<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--<link rel="stylesheet" href="/css/section.css">-->
    <link rel="stylesheet" href="/css/play.css">

</head>
<body>


<img src="/assets/images/checkpoints_0.png"  usemap="#play-map" id="cpimg">
<map name="play-map" id="Map">
    <area id="1st-flag" class="flag" shape="rect" coords="70,408,180,555" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="2nd-flag" class="flag" shape="rect" coords="436,610,542,756" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="3rd-flag" class="flag" shape="rect" coords="836,796,938,943" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="4th-flag" class="flag" shape="rect" coords="114,1014,222,1162" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="5th-flag" class="flag" shape="rect" coords="521,1461,400,1309" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="6th-flag" class="flag" shape="rect" coords="352,1777,468,1949" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="7th-flag" class="flag" shape="rect" coords="162,2183,276,2341" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="8th-flag" class="flag" shape="rect" coords="792,2332,914,2495" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
    <area id="9th-flag" class="flag" shape="rect" coords="869,2795,1002,2966" style="outline:none;" target="sectionFrame" onclick="overlayPopUp(this)"/>
</map>


<!-- Kola's Magic Blinking Page -->
<script>
    function setRandomCP() {
        var num = Math.floor(Math.random() * 10);
        document.querySelector('#cpimg').src = '/assets/images/checkpoints_' + num + '.png';
    }

    setInterval(setRandomCP, 500);
</script>

<!-- For responsive design -->
<script src="/js/jquery-3.3.1.js"></script>
<script src="/js/jquery.rwdImageMaps.js"></script>
<script>
    $(document).ready(function(e) {
        $('img[usemap]').rwdImageMaps();
    });
</script>


<!-- Note: Current problems with popup:
     1) On first load, need to click something twice before popup works
-->
<div id="overlay">
</div>
<div id="popup">
    <h2>Activities</h2>
    <p id="flag-id"></p>


    <p><a href="video.html" class="button">Watch Video</a></p>
    <button  onclick="overlayPopUp()">Close</button>
</div>

<!-- Toggle Overlay & Popup upon onClick -->
<script>
    function overlayPopUp(oObject) {
        //Set a variable to contain the DOM element of the overly
        var overlay = document.getElementById("overlay");
        //Set a variable to contain the DOM element of the popup
        var popup = document.getElementById("popup");




        // Toggle visibility of overlay and popup
        if(overlay.style.display === "none"){
            overlay.style.display = "block";
            popup.style.display = "block";
            //Edit part of the text in popup based on ID of function caller
            document.getElementById("flag-id").innerHTML = oObject.id;
        } else {
            overlay.style.display = "none";
            popup.style.display = "none";
        }


        /* Code below doesn't work?? */
        // Toggle visibility of overlay
        // overlay.style.display === "block" ? overlay.style.display = "block" : overlay.style.display = "none";
        // Toggle visibility of popup
        // popup.style.display === "block" ? popup.style.display = "block" : popup.style.display = "none";

    }
</script>


<div id="checkpoint_open">
    You've clicked a checkpoint!
</div>

<script>
    // When the user clicks on div, open the popup
    function onClickCheckpoint() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle('show');
    }
</script>




</body>
</html>